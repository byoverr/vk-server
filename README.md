# Ping Docker-containers

<details><summary><b>Описание</b></summary>


Необходимо разработать приложение на языках программирования **Go** и **JavaScript (TypeScript)**, которое получает IP-адреса контейнеров **Docker**, пингует их с определённым интервалом и сохраняет данные в **базе данных**. 

Информация о состоянии контейнеров будет доступна на динамически формируемой **веб-странице**.

## Структура сервисов

Приложение должно состоять из **четырёх сервисов**:

1. **Backend-сервис**  
   - Обеспечивает **RESTful API** для запроса и записи данных в **базу данных**.

2. **Frontend-сервис**  
   - Должен быть написан на **JavaScript (TypeScript)** с использованием любой библиотеки пользовательских интерфейсов (**предпочтительно React**).  
   - Получает данные через **API Backend** и отображает информацию по всем IP-адресам в виде таблицы:  
     - **IP-адрес**  
     - **Время пинга**  
     - **Дата последней успешной попытки**  
   - Для отображения данных можно использовать **Bootstrap, Ant Design или аналогичные библиотеки**.

3. **База данных PostgreSQL**  
   - Хранит данные о контейнерах и результатах их пинга.

4. **Сервис Pinger**  
   - Получает список всех **Docker-контейнеров**,  
   - Пингует их,  
   - Отправляет данные в базу через **API Backend**.

### Дополнительная сложность

- Добавление **Nginx**.  
- Использование **сервиса очередей**.  
- Работа с **netns**.  
- Создание **отдельного конфига** для сервиса с верификацией.

</details>

# Quick Start

```bash
docker compose -f docker-compose.yml -p vk-server up
```

# Routes
[Frontend](http://localhost:3000) который доступен после docker-compose

POST /containers отправляет ping_time и сохраняет в базу данных
```bash
curl --location --request GET 'http://0.0.0.0:8080/containers' \
--header 'Content-Type: application/json' \
--data '{
    "ping_time": "123ms",
    "ip": "127.0.0.12"
}'
```

GET получает все IP которые когда либо замечались среди docker-контейнеров
```bash
curl --location 'http://0.0.0.0:8080/containers'
```